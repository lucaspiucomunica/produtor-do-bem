(()=>{var E=Object.defineProperty;var v=(o,e,t)=>e in o?E(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var a=(o,e,t)=>v(o,typeof e!="symbol"?e+"":e,t);var S={validateEmail(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)},debounce(o,e){let t;return function(...i){let r=()=>{clearTimeout(t),o(...i)};clearTimeout(t),t=setTimeout(r,e)}},log(...o){window.THEME_DEBUG===!0&&console.log(...o)},logError(...o){window.THEME_DEBUG===!0&&console.error(...o)}};window.ThemeUtils=S;var f=class{constructor(e){this.form=document.querySelector(e),this.form&&(this.states={loading:".loading-state",success:".success-state",error:".error-state"})}validateRequiredField(e,t){if(!e)return!0;let s=e.value.trim()!=="";return s?this.clearFieldError(e):this.showFieldError(e,t),s}validateEmail(e,t){let s=this.validateRequiredField(e,t);return s&&e.value&&!ThemeUtils.validateEmail(e.value)?(this.showFieldError(e,t||"Por favor, digite um e-mail v\xE1lido"),!1):s}showFieldError(e,t){this.clearFieldError(e);let s=document.createElement("span");s.className="error-message",s.textContent=t,(e.closest(".form-group")||e.parentElement).appendChild(s)}clearFieldError(e){let s=(e.closest(".form-group")||e.parentElement).querySelector(".error-message");s&&s.remove()}showGroupError(e,t){this.clearGroupError(e);let s=document.createElement("span");s.className="error-message",s.textContent=t,e.appendChild(s)}clearGroupError(e){let t=e.querySelector(".error-message");t&&t.remove()}clearErrors(){this.form.querySelectorAll(".error-message").forEach(t=>t.remove())}showState(e,t=this.form){t.querySelectorAll(".loading-state, .success-state, .error-state").forEach(r=>r.classList.add("hidden"));let i=t.querySelector(`.${e}-state`);i&&i.classList.remove("hidden")}async sendAjaxRequest(e,t,s){if(typeof e>"u")throw ThemeUtils.logError(`${t} - Vari\xE1veis AJAX n\xE3o definidas`),new Error("Vari\xE1veis AJAX n\xE3o dispon\xEDveis");ThemeUtils.log(`${t} - Dados:`,s);let i={action:t,nonce:e.nonce,...s},r=await fetch(e.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(i)});ThemeUtils.log(`${t} - Resposta:`,r);let n=await r.json();if(ThemeUtils.log(`${t} - Dados da resposta:`,n),!n.success)throw ThemeUtils.logError(`${t} - Erro:`,n.data),new Error(n.data?.message||"Erro ao enviar formul\xE1rio");return n}resetForm(){this.form.reset(),this.clearErrors(),this.form.querySelectorAll("input, textarea").forEach(t=>{t.type==="radio"&&(t.checked=!1,t.closest("label")?.classList.remove("selected"))})}};window.BaseForm=f;var m=class{static init(){this.initialized||(this.container=document.createElement("div"),this.container.className="toast-container",document.body.appendChild(this.container),this.initialized=!0)}static show(e="success",t="",s=4e3){this.init();let i=this.createToastElement(e,t);this.container.appendChild(i),this.toasts.push(i),this.animateIn(i),this.startProgress(i,s);let r=setTimeout(()=>{this.hide(i)},s);return i.dataset.timeout=r,i}static createToastElement(e,t){let s=document.createElement("div");s.className=`toast toast-${e}`;let i=this.getToastConfig(e);return s.innerHTML=`
            <div class="toast-content">
                <div class="toast-icon">
                    ${this.getIconSvg(i.icon)}
                </div>
                <div class="toast-message">${t}</div>
                <button class="toast-close" aria-label="Fechar notifica\xE7\xE3o">
                    ${this.getIconSvg("close-circle")}
                </button>
            </div>
            <div class="toast-progress">
                <div class="toast-progress-bar"></div>
            </div>
        `,s.querySelector(".toast-close").addEventListener("click",()=>{this.hide(s)}),s}static getToastConfig(e){let t={success:{icon:"tick-circle",class:"toast-success"},error:{icon:"info-circle",class:"toast-error"}};return t[e]||t.success}static getIconSvg(e){return`<img src="${`${window.location.origin}/wp-content/themes/produtor-do-bem/src/img/iconpdb/iconpdb-${e}.svg`}" alt="${e}" class="iconpdb" />`}static animateIn(e){typeof gsap<"u"?gsap.from(e,{x:400,opacity:0,duration:.5,ease:"power3.out"}):e.style.opacity="1"}static animateOut(e){return new Promise(t=>{typeof gsap<"u"?gsap.to(e,{x:400,opacity:0,duration:.3,ease:"power3.in",onComplete:t}):(e.style.opacity="0",setTimeout(t,300))})}static startProgress(e,t){let s=e.querySelector(".toast-progress-bar");typeof gsap<"u"?gsap.fromTo(s,{width:"0%"},{width:"100%",duration:t/1e3,ease:"none"}):(s.style.transition=`width ${t}ms linear`,s.style.width="100%")}static async hide(e){e.dataset.timeout&&clearTimeout(parseInt(e.dataset.timeout)),await this.animateOut(e);let t=this.toasts.indexOf(e);t>-1&&this.toasts.splice(t,1),e.parentNode&&e.parentNode.removeChild(e)}static hideAll(){[...this.toasts].forEach(t=>this.hide(t))}};a(m,"container",null),a(m,"toasts",[]),a(m,"initialized",!1);window.Toast=m;var p={processedAttr:"data-svg-ids-sanitized",init(){let o=()=>{let e=document.querySelectorAll("svg.svg-inline");e.length&&e.forEach(t=>{p.ensureUniqueIds(t)})};o(),window.addEventListener("load",o,{once:!0})},ensureUniqueIds(o){if(!(o instanceof SVGElement)||o.hasAttribute(p.processedAttr))return;let e=o.querySelectorAll("[id]");if(!e.length){o.setAttribute(p.processedAttr,"true");return}let t="-"+Math.random().toString(36).slice(2,8),s={};e.forEach(r=>{let n=r.id;n&&(s[n]||(s[n]=`${n}${t}`),r.id=s[n])}),[o,...o.querySelectorAll("*")].forEach(r=>{(r.attributes?Array.from(r.attributes):[]).forEach(h=>{let{name:u}=h,{value:c}=h;if(c){if(c.includes("url(#")&&(c=c.replace(/url\(#([^)]+)\)/g,(d,y)=>s[y]?`url(#${s[y]})`:d)),(u==="href"||u==="xlink:href")&&c.startsWith("#")){let d=c.slice(1);s[d]&&(c=`#${s[d]}`)}(u==="aria-labelledby"||u==="aria-describedby")&&(c=c.split(/\s+/).filter(Boolean).map(d=>s[d]?s[d]:d).join(" ")),c!==h.value&&r.setAttribute(u,c)}})}),o.setAttribute(p.processedAttr,"true")}},b={checkHeights(){document.querySelectorAll(".card-protocol").forEach(e=>{let t=e.querySelector(".card-protocol-list-wrapper"),s=e.querySelector(".card-protocol-list"),i=e.querySelector(".card-protocol-more");if(t&&s&&i){let r=t.offsetHeight,n=s.offsetHeight;i.classList.toggle("card-protocol-more-active",n>r)}})},toggle(o){let e=o.querySelector(".card-protocol-more button span");if(!e)return;let t=o.classList.contains("card-protocol-expanded");o.classList.toggle("card-protocol-expanded"),e.textContent=t?"Ver todos":"Ocultar",o.dataset.expanded=!t},init(){document.addEventListener("click",o=>{let e=o.target.closest(".card-protocol-more button");if(e){o.preventDefault();let t=e.closest(".card-protocol");t&&this.toggle(t)}}),document.querySelectorAll(".card-protocol").forEach(o=>{o.dataset.expanded="false"}),this.checkHeights()}};document.addEventListener("DOMContentLoaded",()=>{b.init(),p.init()});window.addEventListener("resize",ThemeUtils.debounce(()=>b.checkHeights(),250));var w={setPosition(){let o=document.querySelector(".site-header .site-header-content"),e=document.querySelectorAll(".sub-menu-wrapper");if(o&&e.length>0){let t=o.offsetHeight+o.offsetTop;e.forEach(s=>{s.style.top=`${t}px`})}},closeSubmenu(o){let e=o.closest("li"),t=e?.querySelector(".sub-menu-wrapper");o.classList.remove("active"),o.setAttribute("aria-expanded","false"),t&&t.classList.remove("active"),e&&e.classList.remove("active")},closeAllSubmenus(){document.querySelectorAll(".submenu-toggle").forEach(e=>this.closeSubmenu(e))},toggleSubmenu(o){let e=o.closest("li"),t=e?.querySelector(".sub-menu-wrapper"),s=o.classList.contains("active");o.classList.toggle("active"),o.setAttribute("aria-expanded",!s),t&&t.classList.toggle("active"),e&&e.classList.toggle("active")},init(){let o=document.querySelectorAll(".submenu-toggle");if(o.length===0){console.warn("Nenhum .submenu-toggle encontrado");return}o.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),o.forEach(s=>{s!==e&&this.closeSubmenu(s)}),this.toggleSubmenu(e)})}),document.addEventListener("click",e=>{e.target.closest(".site-header nav")||this.closeAllSubmenus()}),this.setPosition()}},g={wrapper:null,openBtn:null,closeBtn:null,isOpen:!1,scrollbarWidth:0,calculateScrollbarWidth(){return window.innerWidth-document.documentElement.clientWidth},lockScroll(){this.scrollbarWidth=this.calculateScrollbarWidth(),document.body.style.overflow="hidden",document.body.style.paddingRight=`${this.scrollbarWidth}px`},unlockScroll(){document.body.style.overflow="",document.body.style.paddingRight=""},checkMenuHeight(){if(!this.wrapper)return;let o=window.innerHeight;this.wrapper.scrollHeight>o?this.wrapper.classList.add("menu-scrollable"):this.wrapper.classList.remove("menu-scrollable")},open(){this.isOpen||!this.wrapper||(this.isOpen=!0,this.lockScroll(),this.wrapper.classList.remove("site-menu-mobile-wrapper-hidden"),gsap.fromTo(this.wrapper,{opacity:0},{opacity:1,duration:.3,ease:"power2.out",onComplete:()=>{this.checkMenuHeight()}}))},close(){!this.isOpen||!this.wrapper||(this.isOpen=!1,gsap.to(this.wrapper,{opacity:0,duration:.3,ease:"power2.in",onComplete:()=>{this.wrapper.classList.add("site-menu-mobile-wrapper-hidden"),this.wrapper.classList.remove("menu-scrollable"),this.unlockScroll()}}))},init(){if(this.wrapper=document.querySelector(".site-menu-mobile-wrapper"),this.openBtn=document.querySelector("#menu-mobile-open"),this.closeBtn=document.querySelector("#menu-mobile-close"),!this.wrapper||!this.openBtn||!this.closeBtn){console.warn("Elementos do menu mobile n\xE3o encontrados");return}this.openBtn.addEventListener("click",e=>{e.preventDefault(),this.open()}),this.closeBtn.addEventListener("click",e=>{e.preventDefault(),this.close()}),this.wrapper.querySelectorAll("a, button").forEach(e=>{e.id!=="menu-mobile-close"&&e.addEventListener("click",()=>{this.close()})}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.isOpen&&this.close()})}};document.addEventListener("DOMContentLoaded",()=>{w.init(),g.init()});window.addEventListener("resize",ThemeUtils.debounce(()=>{w.setPosition(),g.isOpen&&g.checkMenuHeight()},250));document.addEventListener("DOMContentLoaded",function(){gsap.registerPlugin(ScrollTrigger,ScrollSmoother);let o=ScrollSmoother.create({wrapper:"#smooth-wrapper",content:"#smooth-content",smooth:1.5,effects:!0,smoothTouch:.1,normalizeScroll:!1,ignoreMobileResize:!1,preventDefault:!0});function e(){o&&o.refresh(),ScrollTrigger.refresh()}window.refreshScrollSmoother=e,window.toggleScrollSmoother=function(s=!0){o&&o.paused(!s)},window.scrollToElement=function(s,i=0){if(!o)return;let r=typeof i=="string"?i:`top ${i}px`;o.scrollTo(s,!0,r)};let t=ThemeUtils.debounce(e,250);window.addEventListener("resize",t),window.addEventListener("load",e),document.fonts&&document.fonts.ready&&document.fonts.ready.then(e)});var l=class{static init(){this.initialized||(this.container=document.getElementById("faq-accordion"),this.searchInput=document.getElementById("faq-search-input"),this.loadMoreBtn=document.getElementById("faq-load-more"),this.footer=document.getElementById("faq-footer"),this.emptyState=document.getElementById("faq-empty-state"),this.container&&(this.items=Array.from(this.container.querySelectorAll(".faq-item")),this.totalItems=this.items.length,this.bindEvents(),this.initialized=!0))}static bindEvents(){this.container.addEventListener("click",e=>{let t=e.target.closest("[data-faq-toggle]");t&&(e.preventDefault(),this.toggleItem(t))}),this.searchInput&&this.searchInput.addEventListener("input",ThemeUtils.debounce(e=>{this.handleSearch(e.target.value)},300)),this.loadMoreBtn&&this.loadMoreBtn.addEventListener("click",()=>{this.allItemsVisible?this.showLess():this.loadMore()})}static toggleItem(e){let t=e.closest(".faq-item"),s=t.querySelector(".faq-item-content"),i=t.querySelector(".faq-item-icon");e.getAttribute("aria-expanded")==="true"?this.closeItem(e,t,s,i):this.openItem(e,t,s,i)}static openItem(e,t,s,i){e.setAttribute("aria-expanded","true"),s.setAttribute("aria-hidden","false"),t.classList.add("faq-item-active");let r=s.querySelector(".faq-item-body");if(typeof gsap<"u"){gsap.set(s,{height:0}),s.style.display="block";let n=r.offsetHeight;gsap.to(s,{height:n,duration:.4,ease:"power2.out",onComplete:()=>{s.style.height="auto"}}),gsap.fromTo(r,{opacity:0},{opacity:1,duration:.3,delay:.1,ease:"power2.out"})}else s.style.display="block",s.style.height="auto";typeof gsap<"u"&&gsap.to(i,{rotation:180,duration:.4,ease:"power2.out"})}static closeItem(e,t,s,i){e.setAttribute("aria-expanded","false"),s.setAttribute("aria-hidden","true"),t.classList.remove("faq-item-active"),typeof gsap<"u"?gsap.to(s,{height:0,duration:.4,ease:"power2.in",onComplete:()=>{s.style.display=""}}):(s.style.height="0",s.style.display="none"),typeof gsap<"u"&&gsap.to(i,{rotation:0,duration:.4,ease:"power2.in"})}static handleSearch(e){let t=e.toLowerCase().trim(),s=0;this.items.forEach(i=>{let r=i.getAttribute("data-search-text");if(t===""||r.includes(t))i.style.display="",i.classList.remove("faq-item-filtered"),s++;else{i.style.display="none",i.classList.add("faq-item-filtered");let h=i.querySelector("[data-faq-toggle]"),u=i.querySelector(".faq-item-content"),c=i.querySelector(".faq-item-icon");h.getAttribute("aria-expanded")==="true"&&this.closeItem(h,i,u,c)}}),s===0&&t!==""?this.emptyState.style.display="block":this.emptyState.style.display="none",this.footer&&(t!==""?this.footer.style.display="none":this.updateFooterVisibility())}static loadMore(){let e=Math.min(this.currentVisibleCount+this.itemsPerPage,this.totalItems),t=this.items.slice(this.currentVisibleCount,e);t.forEach(s=>{s.classList.remove("faq-item-hidden")}),typeof gsap<"u"&&gsap.from(t,{opacity:0,y:20,duration:.5,stagger:.1,ease:"power2.out"}),this.currentVisibleCount=e,this.currentVisibleCount>=this.totalItems&&(this.allItemsVisible=!0,this.updateButton())}static showLess(){this.items.forEach(t=>{let s=t.querySelector("[data-faq-toggle]"),i=t.querySelector(".faq-item-content"),r=t.querySelector(".faq-item-icon");s.getAttribute("aria-expanded")==="true"&&this.closeItem(s,t,i,r)}),this.items.forEach((t,s)=>{s>=this.itemsPerPage&&t.classList.add("faq-item-hidden")}),this.currentVisibleCount=this.itemsPerPage,this.allItemsVisible=!1,this.updateButton();let e=document.getElementById("faq");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}static updateButton(){this.loadMoreBtn&&(this.allItemsVisible?(this.loadMoreBtn.textContent="Ver menos",this.footer&&this.footer.classList.add("faq-footer-expanded")):(this.loadMoreBtn.textContent="Ver mais",this.footer&&this.footer.classList.remove("faq-footer-expanded")))}static updateFooterVisibility(){if(!this.footer)return;this.currentVisibleCount<this.totalItems||this.allItemsVisible?this.footer.style.display="":this.footer.style.display="none"}};a(l,"container",null),a(l,"items",[]),a(l,"searchInput",null),a(l,"loadMoreBtn",null),a(l,"footer",null),a(l,"emptyState",null),a(l,"initialized",!1),a(l,"itemsPerPage",8),a(l,"currentVisibleCount",8),a(l,"totalItems",0),a(l,"allItemsVisible",!1);window.Accordion=l;document.addEventListener("DOMContentLoaded",()=>{l.init()});})();
