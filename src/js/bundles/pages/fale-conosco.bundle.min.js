var m=class extends BaseForm{constructor(){super(".multi-step-form-container"),this.currentStep=1,this.totalSteps=4,this.formContainer=this.form,this.progressBar=document.querySelector(".progress-line-fill"),this.progressSteps=document.querySelectorAll(".progress-step"),this.formSteps=document.querySelectorAll(".form-step"),this.formContainer&&(this.selectors={step5:'.form-step[data-step="5"]',nome:"#nome",email:"#email",telefone:"#telefone",mensagem:"#mensagem"},this.init())}init(){this.setupEventListeners(),this.setupRadioOptions(),this.updateUI()}setupEventListeners(){let t=this.formContainer.querySelectorAll(".btn-next"),e=this.formContainer.querySelectorAll(".btn-prev"),o=this.formContainer.querySelector(".btn-submit");t.forEach(s=>{s.addEventListener("click",()=>this.nextStep())}),e.forEach(s=>{s.addEventListener("click",()=>this.prevStep())}),o&&o.addEventListener("click",()=>this.submitForm())}setupRadioOptions(){this.formContainer.querySelectorAll(".form-field-radio-group").forEach(e=>{e.querySelectorAll('input[type="radio"]').forEach(s=>{s.addEventListener("change",()=>{e.querySelectorAll("label").forEach(a=>a.classList.remove("selected")),s.checked&&s.closest("label").classList.add("selected")})})})}nextStep(){this.validateCurrentStep()&&this.currentStep<this.totalSteps&&(this.currentStep++,this.updateUI())}prevStep(){this.currentStep>1&&(this.currentStep--,this.updateUI())}submitForm(){this.validateCurrentStep()&&(this.currentStep=5,this.updateUI(),this.sendFormData())}async sendFormData(){this.showLoadingState();try{let t=this.collectFormData();await this.sendAjaxRequest(window.contact_form_ajax,"submit_multi_step_form",t),this.showSuccessState()}catch(t){this.showErrorState({details:t.message})}}collectFormData(){return{nome:document.querySelector(this.selectors.nome)?.value||"",email:document.querySelector(this.selectors.email)?.value||"",telefone:document.querySelector(this.selectors.telefone)?.value||"","eu-sou":document.querySelector('input[name="eu-sou"]:checked')?.value||"",motivo:document.querySelector('input[name="motivo"]:checked')?.value||"",mensagem:document.querySelector(this.selectors.mensagem)?.value||""}}showLoadingState(){let t=this.formContainer.querySelector(this.selectors.step5);t&&this.showState("loading",t)}showSuccessState(){let t=this.formContainer.querySelector(this.selectors.step5);if(!t)return;this.showState("success",t);let e=t.querySelector(".btn-new-message");e&&(e.onclick=()=>this.resetMultiStepForm())}showErrorState(t=null){let e=this.formContainer.querySelector(this.selectors.step5);if(!e)return;if(this.showState("error",e),t?.details){ThemeUtils.log("Multi-step form - Detalhes do erro:",t.details);let n=e.querySelector(".step-description");n&&(n.textContent=`Erro: ${t.details}`)}let o=e.querySelector(".btn-retry"),s=e.querySelector(".btn-new-message");o&&(o.onclick=()=>this.sendFormData()),s&&(s.onclick=()=>this.resetMultiStepForm())}clearErrors(){if(!this.formContainer)return;this.formContainer.querySelectorAll(".error-message").forEach(e=>e.remove())}resetMultiStepForm(){this.clearErrors(),this.formContainer.querySelectorAll("input, textarea").forEach(o=>{o.type==="radio"||o.type==="checkbox"?(o.checked=!1,o.closest("label")?.classList.remove("selected")):o.value=""}),this.formContainer.querySelectorAll(".form-group").forEach(o=>this.clearGroupError(o)),this.currentStep=1,this.updateUI()}validateCurrentStep(){let t=this.formContainer.querySelector(`.form-step[data-step="${this.currentStep}"]`);if(!t)return!0;let e=!0;switch(this.currentStep){case 1:e=this.validateStep1(t);break;case 2:e=this.validateStep2(t);break;case 3:e=this.validateStep3(t);break;case 4:e=this.validateStep4(t);break}return e}validateStep1(t){let e=t.querySelector(this.selectors.nome);return this.validateRequiredField(e,"Por favor, digite seu nome")}validateStep2(t){let e=t.querySelector(this.selectors.email);return this.validateEmail(e,"Por favor, digite um e-mail v\xE1lido")}validateStep3(t){let e=t.querySelectorAll(".form-field-radio-group"),o=!0;return e.forEach(s=>{let n=s.querySelectorAll('input[type="radio"]'),a=Array.from(n).some(c=>c.checked),d=s.parentElement;if(a)this.clearGroupError(d);else{o=!1;let c="",l=n[0];l&&l.name==="eu-sou"?c="Por favor, selecione uma op\xE7\xE3o":l&&l.name==="motivo"&&(c="Por favor, selecione o motivo do contato"),this.showGroupError(d,c)}}),o}validateStep4(t){let e=t.querySelector(this.selectors.mensagem);return this.validateRequiredField(e,"Por favor, digite sua mensagem")}updateUI(){this.updateFormSteps(),this.updateProgressBar(),this.updateProgressSteps()}updateFormSteps(){this.formSteps.forEach(e=>{e.classList.remove("active")});let t=this.formContainer.querySelector(`.form-step[data-step="${this.currentStep}"]`);t&&t.classList.add("active")}updateProgressBar(){if(!this.progressBar)return;let t={1:"25%",2:"50%",3:"75%",4:"100%",5:"100%"};this.progressBar.style.width=t[this.currentStep]||"25%"}updateProgressSteps(){this.progressSteps.forEach((t,e)=>{let o=e+1;t.classList.remove("active","checked"),o<this.currentStep?t.classList.add("checked"):o===this.currentStep&&this.currentStep<=this.totalSteps&&t.classList.add("active")})}};document.addEventListener("DOMContentLoaded",()=>{new m});var i={duration:{fast:.4,normal:.8,slow:1},easing:{default:"power2.inOut",in:"power2.in",out:"power2.out",smooth:"power3"},distance:{small:20,medium:40,large:80},offset:{none:0,tight:"-=0.8",normal:"-=0.6",loose:"-=0.4"},stagger:{veryFast:.02,fast:.05,normal:.1,medium:.2,slow:.4},scrollTrigger:{default:{start:"top 60%",end:"bottom 20%"},hero:{start:"top 0%",end:"bottom 0%"},early:{start:"top 70%",end:"bottom 20%"},late:{start:"top 50%",end:"bottom 20%"},veryEarly:{start:"top 80%",end:"bottom 20%"},scale:{start:"0% 90%",end:"50% 50%"},item:{start:"top 90%",once:!0}},transform:{scale:{small:.5,medium:.8,default:1,large:1.2},rotate:{small:5,medium:10,large:20}}};window.pageTransitionComplete=!1;var u="pageTransitionComplete";function w(){document.cookie="pdb_has_visited=true; path=/; SameSite=Lax"}function b(){return document.querySelector(".page-transition-wrapper")?.dataset.firstVisit==="true"}function C(){let r=document.querySelector(".page-transition-first-visit"),t=r.querySelector(".transition-pingo"),e=r.querySelector(".transition-icons");w();let o=gsap.timeline({onComplete:()=>{r.remove();let n=document.querySelectorAll(".page-transition-bar");if(n.length>0){let a=document.querySelector(".page-transition-bars");gsap.set(a,{opacity:1,visibility:"visible"}),gsap.set(n,{yPercent:100})}document.body.classList.remove("page-transition-active"),document.body.classList.add("animations-ready"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(u))}});o.to(t,{scale:1,opacity:1,duration:.6,ease:"back.out(1.7)"});let s=e.querySelectorAll(".icon");if(s.length>0){o.to(s[0],{opacity:1,scale:1,duration:.3,ease:"power2.out"},"-=0.2");let n=.4,a=.3;s.forEach((d,c)=>{let l=(c+1)%s.length,v=s[l];o.to(d,{opacity:0,scale:.8,duration:a,ease:"power2.inOut"},`+=${n}`).to(v,{opacity:1,scale:1,duration:a,ease:"power2.inOut"},`-=${a}`)})}o.to(r,{opacity:0,duration:.6,ease:"power2.inOut"},"+=0.3")}function g(){let r=document.querySelectorAll(".page-transition-bar");return r.length===0?Promise.resolve():new Promise(t=>{gsap.set(r,{yPercent:0}),gsap.timeline({onComplete:()=>{document.body.classList.add("animations-ready"),t()}}).to(r,{yPercent:-100,duration:.8,ease:"power2.inOut",stagger:{each:.1,from:"end"}})})}function q(){let r=document.querySelectorAll(".page-transition-bar");return r.length===0?Promise.resolve():new Promise(t=>{gsap.set(r,{yPercent:100}),document.body.classList.add("page-transition-active"),gsap.timeline({onComplete:()=>{t()}}).to(r,{yPercent:0,duration:.8,ease:"power2.inOut",stagger:{each:.1,from:"start"}})})}function x(){if(!document.querySelector(".page-transition-wrapper")){window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(u));return}document.body.classList.add("page-transition-active"),b()?C():g().then(()=>{document.body.classList.remove("page-transition-active"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(u))})}function E(){document.addEventListener("click",r=>{let t=r.target.closest("a");if(!t)return;let e=t.getAttribute("href");if(!e||e.startsWith("#")||e.startsWith("tel:")||e.startsWith("mailto:")||t.target==="_blank"||t.hasAttribute("download")||r.ctrlKey||r.shiftKey||r.metaKey)return;let o=window.location.hostname,s;try{s=new URL(e,window.location.origin).hostname}catch{return}s===o&&(r.preventDefault(),q().then(()=>{window.location.href=e}))})}function p(r){window.pageTransitionComplete?r():document.addEventListener(u,r,{once:!0})}document.addEventListener("DOMContentLoaded",()=>{x(),E()});window.addEventListener("pageshow",r=>{if(r.persisted){let t=document.querySelectorAll(".page-transition-bar");t.length>0&&(window.pageTransitionComplete=!1,document.body.classList.add("page-transition-active"),document.body.classList.remove("animations-ready"),gsap.set(t,{yPercent:0}),g().then(()=>{document.body.classList.remove("page-transition-active"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(u))}))}});function f(r){return r&&r!==null}function h(r,t,e=i.offset.normal){if(!f(t))return;let o=new SplitText(t,{type:"words"});r.from(o.words,{opacity:0,y:i.distance.medium,duration:i.duration.normal,stagger:i.stagger.fast,ease:i.easing.default},e)}function y(r,t,e=i.offset.normal,o=i.stagger.medium){f(t)&&r.from(t,{opacity:0,y:i.distance.medium,duration:i.duration.normal,stagger:o,ease:i.easing.default},e)}function S(r,t,e=i.transform.scale.medium,o=i.offset.normal){f(t)&&r.from(t,{opacity:0,scale:e,y:i.distance.medium,duration:i.duration.normal,ease:i.easing.default},o)}function L(){let r=document.querySelector("#hero"),t=r.querySelector(".content-text h1"),e=r.querySelectorAll(".content-text p"),o=document.querySelector("#form"),s=gsap.timeline();h(s,t,i.offset.none),y(s,e),S(s,o)}function T(){p(()=>{L()})}document.addEventListener("DOMContentLoaded",()=>{T()});
