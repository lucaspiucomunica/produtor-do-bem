function F(){let t=document.querySelector('[data-tabs-type="scroll"]'),e=document.querySelector(".protocolo-cards");if(!t||!e)return;let n=t.querySelectorAll(".tab-button"),r=document.querySelectorAll("[data-tab-index]");if(!n.length||!r.length)return;let a=t.offsetHeight;t.classList.remove("sticky"),t.classList.add("protocolo-tabs-fixed"),document.body.appendChild(t),gsap.set(t,{y:"-100%",opacity:0}),ScrollTrigger.create({trigger:e,start:`top ${a}px`,end:`bottom ${+a}px`,onEnter:()=>{gsap.to(t,{y:"0%",opacity:1,duration:.5,ease:"power2.out"})},onLeave:()=>{gsap.to(t,{y:"-100%",opacity:0,duration:.5,ease:"power2.out"})},onEnterBack:()=>{gsap.to(t,{y:"0%",opacity:1,duration:.5,ease:"power2.out"})},onLeaveBack:()=>{gsap.to(t,{y:"-100%",opacity:0,duration:.5,ease:"power2.out"})}});function l(s,c,m){let d=t.querySelector(".tabs-items");if(!d)return;let C=d.offsetWidth,N=s.offsetLeft,B=s.offsetWidth,w;c===0?w=0:c===m-1?w=d.scrollWidth-C:w=N-C/2+B/2,d.scrollTo({left:w,behavior:"smooth"})}function u(s){n.forEach(c=>c.classList.remove("tab-button--active")),n[s]&&(n[s].classList.add("tab-button--active"),l(n[s],s,n.length))}r.forEach((s,c)=>{ScrollTrigger.create({trigger:s,start:`top ${a+1}px`,end:`bottom ${a-1}px`,onEnter:()=>u(c),onEnterBack:()=>u(c)})}),n.forEach((s,c)=>{s.addEventListener("click",()=>{let m=r[c];if(!m)return;let d=ScrollSmoother.get();d&&d.scrollTo(m,!0,`top ${a}px`)})})}document.addEventListener("DOMContentLoaded",()=>{F()});var o={duration:{fast:.4,normal:.8,slow:1},easing:{default:"power2.inOut",in:"power2.in",out:"power2.out",smooth:"power3"},distance:{small:20,medium:40,large:80},offset:{none:0,tight:"-=0.8",normal:"-=0.6",loose:"-=0.4"},stagger:{veryFast:.02,fast:.05,normal:.1,medium:.2,slow:.4},scrollTrigger:{default:{start:"top 60%",end:"bottom 20%"},hero:{start:"top 0%",end:"bottom 0%"},early:{start:"top 70%",end:"bottom 20%"},late:{start:"top 50%",end:"bottom 20%"},veryEarly:{start:"top 80%",end:"bottom 20%"},scale:{start:"0% 90%",end:"50% 50%"},item:{start:"top 90%",once:!0}},transform:{scale:{small:.5,medium:.8,default:1,large:1.2},rotate:{small:5,medium:10,large:20}}};window.pageTransitionComplete=!1;var f="pageTransitionComplete";function W(){document.cookie="pdb_has_visited=true; path=/; SameSite=Lax"}function H(){return document.querySelector(".page-transition-wrapper")?.dataset.firstVisit==="true"}function k(){let t=document.querySelector(".page-transition-first-visit"),e=t.querySelector(".transition-pingo"),n=t.querySelector(".transition-icons");W();let r=gsap.timeline({onComplete:()=>{t.remove();let l=document.querySelectorAll(".page-transition-bar");if(l.length>0){let u=document.querySelector(".page-transition-bars");gsap.set(u,{opacity:1,visibility:"visible"}),gsap.set(l,{yPercent:100})}document.body.classList.remove("page-transition-active"),document.body.classList.add("animations-ready"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(f))}});r.to(e,{scale:1,opacity:1,duration:.6,ease:"back.out(1.7)"});let a=n.querySelectorAll(".icon");if(a.length>0){r.to(a[0],{opacity:1,scale:1,duration:.3,ease:"power2.out"},"-=0.2");let l=.4,u=.3;a.forEach((s,c)=>{let m=(c+1)%a.length,d=a[m];r.to(s,{opacity:0,scale:.8,duration:u,ease:"power2.inOut"},`+=${l}`).to(d,{opacity:1,scale:1,duration:u,ease:"power2.inOut"},`-=${u}`)})}r.to(t,{opacity:0,duration:.6,ease:"power2.inOut"},"+=0.3")}function L(){let t=document.querySelectorAll(".page-transition-bar");return t.length===0?Promise.resolve():new Promise(e=>{gsap.set(t,{yPercent:0}),gsap.timeline({onComplete:()=>{document.body.classList.add("animations-ready"),e()}}).to(t,{yPercent:-100,duration:.8,ease:"power2.inOut",stagger:{each:.1,from:"end"}})})}function _(){let t=document.querySelectorAll(".page-transition-bar");return t.length===0?Promise.resolve():new Promise(e=>{gsap.set(t,{yPercent:100}),document.body.classList.add("page-transition-active"),gsap.timeline({onComplete:()=>{e()}}).to(t,{yPercent:0,duration:.8,ease:"power2.inOut",stagger:{each:.1,from:"start"}})})}function D(){if(!document.querySelector(".page-transition-wrapper")){window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(f));return}document.body.classList.add("page-transition-active"),H()?k():L().then(()=>{document.body.classList.remove("page-transition-active"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(f))})}function M(){document.addEventListener("click",t=>{let e=t.target.closest("a");if(!e)return;let n=e.getAttribute("href");if(!n||n.startsWith("#")||n.startsWith("tel:")||n.startsWith("mailto:")||e.target==="_blank"||e.hasAttribute("download")||t.ctrlKey||t.shiftKey||t.metaKey)return;let r=window.location.hostname,a;try{a=new URL(n,window.location.origin).hostname}catch{return}a===r&&(t.preventDefault(),_().then(()=>{window.location.href=n}))})}function v(t){window.pageTransitionComplete?t():document.addEventListener(f,t,{once:!0})}document.addEventListener("DOMContentLoaded",()=>{D(),M()});window.addEventListener("pageshow",t=>{if(t.persisted){let e=document.querySelectorAll(".page-transition-bar");e.length>0&&(window.pageTransitionComplete=!1,document.body.classList.add("page-transition-active"),document.body.classList.remove("animations-ready"),gsap.set(e,{yPercent:0}),L().then(()=>{document.body.classList.remove("page-transition-active"),window.pageTransitionComplete=!0,document.dispatchEvent(new CustomEvent(f))}))}});function i(t){return t&&t!==null}function x(t,e="default"){let n=o.scrollTrigger[e]||o.scrollTrigger.default;return gsap.timeline({scrollTrigger:{trigger:t,...n}})}function y(t,e,n=o.offset.normal){if(!i(e))return;let r=new SplitText(e,{type:"words"});t.from(r.words,{opacity:0,y:o.distance.medium,duration:o.duration.normal,stagger:o.stagger.fast,ease:o.easing.default},n)}function p(t,e,n=o.offset.normal,r=o.stagger.medium){i(e)&&t.from(e,{opacity:0,y:o.distance.medium,duration:o.duration.normal,stagger:r,ease:o.easing.default},n)}function A(t,e,n=o.distance.medium,r=o.offset.normal){i(e)&&t.from(e,{opacity:0,x:n,duration:o.duration.normal,ease:o.easing.default},r)}function S(t,e,n=o.distance.medium,r=o.offset.normal,a=o.stagger.medium){i(e)&&t.from(e,{opacity:0,y:n,duration:o.duration.normal,stagger:a,ease:o.easing.default},r)}function T(t,e,n=o.offset.normal,r=o.stagger.medium){i(e)&&t.from(e,{opacity:0,duration:o.duration.normal,stagger:r,ease:o.easing.default},n)}function q(t,e,n=o.offset.none){i(e)&&t.from(e,{opacity:0,x:-o.distance.large,rotate:-o.transform.rotate.medium,duration:o.duration.normal,ease:o.easing.default},n)}var I="heroAnimationComplete";function h(){document.dispatchEvent(new CustomEvent(I))}var E=!!window.location.hash,g=null;if(E){let t=window.location.hash.substring(1);setTimeout(()=>{g=document.getElementById(t)},0)}function O(){return E}function P(t){if(!t)return;let e=t.querySelectorAll('[class*="hero-"]');gsap.set(e,{opacity:1,x:0,y:0,scale:1,rotate:0,clearProps:"all"})}function G(t){if(!E)return!1;if(!g){let n=window.location.hash.substring(1);g=document.getElementById(n)}return g?(t.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_FOLLOWING)!==0:!1}function V(t){if(!t)return;let e=t.querySelectorAll("*");gsap.set(e,{opacity:1,x:0,y:0,scale:1,rotate:0,clearProps:"all"})}function b(t,e,n={}){let r=document.querySelector(t);if(!r)return;if(G(r)){V(r);return}let a=n.viewportThreshold||.6,l=r.getBoundingClientRect(),s=window.innerHeight*a;l.top<s?(gsap.set(r,{opacity:0}),document.addEventListener(I,()=>{gsap.set(r,{opacity:1}),e()},{once:!0})):e()}function $(){let t=document.querySelector(".sections-cpt-protocolo-hero");if(O()){P(t),h();return}if(!i(t))return;let e=gsap.timeline({onComplete:h}),n=window.innerWidth>=640;n&&q(e,t.querySelector(".hero-header-icon")),y(e,t.querySelector(".content-text h1"),n?o.offset.normal:o.offset.none),p(e,t.querySelectorAll(".content-text p")),y(e,t.querySelector(".hero-destaques-subtitulo .content-text h2"));let r=t.querySelectorAll(".hero-destaque");r.length&&e.from(r,{opacity:0,y:o.distance.medium,duration:o.duration.normal,stagger:o.stagger.medium,ease:o.easing.default},o.offset.normal);let a=t.querySelector(".hero-infos-extras");i(a)&&p(e,a);let l=t.querySelector(".cta-2-hero");i(l)&&S(e,l)}function R(){let t=document.querySelector(".sections-cpt-protocolo-hero-em-breve");if(!i(t))return;let e=gsap.timeline({onComplete:h}),n=window.innerWidth>=640;n&&q(e,t.querySelector(".hero-header-icon")),A(e,t.querySelector(".content-text .tag-1"),o.distance.medium,n?o.offset.normal:o.offset.none),y(e,t.querySelector(".content-text h1")),p(e,t.querySelectorAll(".content-text p")),p(e,t.querySelector(".content-text .btn-wrapper"))}function U(){let t=document.querySelector("#protocolo");if(!i(t))return;let e=x(t);y(e,t.querySelector(".protocolo-content .content-text h2"),o.offset.none),p(e,t.querySelectorAll(".protocolo-content .content-text p")),S(e,t.querySelector(".protocolo-relation")),T(e,t.querySelector(".protocolo-tabs")),T(e,t.querySelectorAll(".protocolo-cards .card-protocol-nivel"));let n=t.querySelector(".list-fontes");i(n)&&gsap.from(n.querySelectorAll("li"),{scrollTrigger:{trigger:n,start:"top 90%",end:"bottom 20%"},opacity:0,y:o.distance.medium,duration:o.duration.normal,ease:o.easing.default,stagger:o.stagger.medium})}function K(){let t=document.querySelector("#apendice");if(!i(t))return;let e=x(t,"veryEarly");S(e,t.querySelector(".sections-cpt-protocolo-apendice-bcc-ecc-content"),o.distance.medium,o.offset.none)}function X(){let t=document.querySelector("#protocolo"),e=document.querySelector(".cta-2")?.parentElement,n=document.querySelector(".cta-2");!i(t)||!i(n)||!i(e)||(e.classList.remove("hidden"),e.classList.add("cta-2-fixed"),document.body.appendChild(e),gsap.set(e,{y:"100%",opacity:0}),ScrollTrigger.create({trigger:t,start:"top 10%",end:"bottom 80%",onEnter:()=>{gsap.to(e,{y:"0%",opacity:1,duration:o.duration.normal,ease:o.easing.default})},onLeave:()=>{gsap.to(e,{y:"100%",opacity:0,duration:o.duration.normal,ease:o.easing.default})},onEnterBack:()=>{gsap.to(e,{y:"0%",opacity:1,duration:o.duration.normal,ease:o.easing.default})},onLeaveBack:()=>{gsap.to(e,{y:"100%",opacity:0,duration:o.duration.normal,ease:o.easing.default})}}))}function Y(){v(()=>{let t=document.querySelector(".sections-cpt-protocolo-hero"),e=document.querySelector(".sections-cpt-protocolo-hero-em-breve");t?$():e?R():h()}),b("#protocolo",U),b("#apendice",K),b("#protocolo",X)}document.addEventListener("DOMContentLoaded",()=>{Y()});
